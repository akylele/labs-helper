"use strict";(self.webpackChunklabs_helper=self.webpackChunklabs_helper||[]).push([[671],{235:(e,r,t)=>{t.d(r,{aF:()=>a,NS:()=>o,cw:()=>i,rQ:()=>s});t(950);var n=t(414);const a=e=>{let{children:r,onOverlayClick:t,size:a="medium"}=e;return(0,n.jsx)("div",{className:"fixed inset-0 w-full h-full bg-black/50 flex items-center justify-center z-[9999] overflow-auto p-0 md:p-5",onClick:e=>{e.target===e.currentTarget&&t&&t(e)},children:(0,n.jsx)("div",{className:"bg-bg-primary border border-border shadow-[0_4px_20px_rgba(0,0,0,0.3)] relative z-[10000] mx-auto flex flex-col overflow-hidden w-full h-full max-w-full max-h-full rounded-none md:rounded-xl md:w-[90%] md:h-auto ".concat("large"===a?"md:max-w-[1000px] md:max-h-[800px]":"md:max-w-[600px] md:max-h-[600px]"),onClick:e=>e.stopPropagation(),children:r})})},s=e=>{let{children:r}=e;return(0,n.jsx)("div",{className:"p-4 border-b border-border flex-shrink-0",children:"string"===typeof r?(0,n.jsx)("h3",{className:"m-0 text-xl font-semibold text-text-primary",children:r}):r})},i=e=>{let{children:r}=e;return(0,n.jsx)("div",{className:"p-6 overflow-y-auto flex-1 min-h-0 bg-bg-secondary",children:r})};var l=t(652);const o=function(e){let{cancelText:r="\u041e\u0442\u043c\u0435\u043d\u0430",onCancel:t,okText:a="\u041e\u041a",onOk:s,okType:i="primary",showCancel:o=!0,showOk:c=!1,okDisabled:d=!1,disabled:u=!1}=e;return(0,n.jsxs)("div",{className:"px-4 py-2 border-t border-border flex gap-3 justify-end flex-shrink-0",children:[o&&t&&(0,n.jsx)(l.A,{variant:"secondary",size:"md",onClick:t,disabled:u,children:r}),(c||s)&&a&&(0,n.jsx)(l.A,{variant:"danger"===i?"danger":"primary",size:"md",onClick:s,disabled:u||d,children:a})]})}},368:(e,r,t)=>{t.d(r,{A:()=>a});t(950);var n=t(414);const a=e=>{let{checked:r,onChange:t,label:a,disabled:s=!1,required:i,id:l,className:o=""}=e;return(0,n.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer ".concat(s?"opacity-50 cursor-not-allowed":""," ").concat(o),children:[(0,n.jsx)("input",{type:"checkbox",checked:r,onChange:e=>{t(e.target.checked)},disabled:s,id:l,className:"sr-only",required:!!i}),(0,n.jsx)("div",{className:"relative flex items-center justify-center w-5 h-5 rounded border-2 transition-all ".concat(r?"bg-accent-blue border-accent-blue":"bg-bg-primary border-border hover:border-accent-blue/50"," ").concat(s?"cursor-not-allowed":"cursor-pointer"),children:r&&(0,n.jsx)("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{d:"M5 13l4 4L19 7"})})}),a&&(0,n.jsx)("span",{className:"text-sm text-text-primary ".concat(s?"cursor-not-allowed":"cursor-pointer"),children:a})]})}},671:(e,r,t)=>{t.r(r),t.d(r,{default:()=>d});t(950);var n=t(673),a=t(818),s=t(235),i=t(791),l=t(368),o=t(652),c=t(414);const d=(0,n.PA)(e=>{let{dialog:r,model:t}=e;(0,a.v)(t);return(0,c.jsxs)(s.aF,{onOverlayClick:e=>{e.target===e.currentTarget&&t.cancel()},children:[(0,c.jsx)(s.rQ,{children:(0,c.jsx)("h3",{className:"m-0 text-xl font-semibold text-text-primary",children:t.isEdit?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0443\u044e":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0443\u044e"})}),(0,c.jsx)(s.cw,{children:(0,c.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,c.jsx)(i.A,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",required:!0,children:(0,c.jsx)("input",{type:"text",value:t.title,onChange:e=>t.setTitle(e.target.value),placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439",className:"px-3 py-2 border border-border rounded-md bg-bg-primary text-text-primary font-inherit text-sm transition-all focus:outline-none focus:border-accent-blue focus:ring-2 focus:ring-accent-blue/15"})}),(0,c.jsx)(i.A,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",children:(0,c.jsx)("textarea",{value:t.description,onChange:e=>t.setDescription(e.target.value),placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",className:"px-3 py-2 border border-border rounded-md bg-bg-primary text-text-primary font-inherit text-sm resize-y min-h-[60px] transition-all focus:outline-none focus:border-accent-blue focus:ring-2 focus:ring-accent-blue/15",rows:3})}),(0,c.jsx)(i.A,{label:"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f (\u043c\u0438\u043d\u0443\u0442\u044b)",required:!0,children:(0,c.jsx)("input",{type:"number",value:t.durationMinutes,onChange:e=>t.setDurationMinutes(e.target.value),min:"1",className:"px-3 py-2 border border-border rounded-md bg-bg-primary text-text-primary font-inherit text-sm transition-all focus:outline-none focus:border-accent-blue focus:ring-2 focus:ring-accent-blue/15 w-[100px]"})}),(0,c.jsx)(i.A,{label:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",children:(0,c.jsx)(l.A,{checked:t.isActive,onChange:e=>t.setIsActive(e),label:"\u0410\u043a\u0442\u0438\u0432\u043d\u0430"})}),(0,c.jsxs)("div",{className:"mt-4 pt-4 border-t-2 border-border",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,c.jsx)("h4",{className:"m-0 text-base text-text-primary",children:"\u0412\u043e\u043f\u0440\u043e\u0441\u044b *"}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)(o.A,{variant:"blue",size:"md",onClick:()=>t.addQuestion("multiple_choice"),children:"+ \u0422\u0435\u0441\u0442"}),(0,c.jsx)(o.A,{variant:"green",size:"md",onClick:()=>t.addQuestion("text"),children:"+ \u0422\u0435\u043a\u0441\u0442"}),(0,c.jsx)(o.A,{variant:"purple",size:"md",onClick:()=>t.addQuestion("code"),children:"+ \u041a\u043e\u0434"})]})]}),0===t.questions.length?(0,c.jsx)("div",{className:"p-6 text-center text-text-secondary bg-bg-tertiary rounded-md text-sm",children:(0,c.jsx)("p",{children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u043a \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439"})}):(0,c.jsx)("div",{className:"flex flex-col gap-4",children:t.questions.map((e,r)=>{var n;return(0,c.jsxs)("div",{className:"p-4 bg-bg-secondary rounded-lg border ".concat((()=>{switch(e.type){case"multiple_choice":return"border-blue-500 border-2";case"text":return"border-green-500 border-2";case"code":return"border-purple-500 border-2";default:return"border-border"}})()),children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,c.jsxs)("span",{className:"font-semibold text-text-primary",children:["\u0412\u043e\u043f\u0440\u043e\u0441 ",r+1]}),(0,c.jsx)(o.A,{variant:"danger",size:"md",onClick:()=>t.removeQuestion(e.id),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]}),(0,c.jsx)(i.A,{label:"\u0422\u0435\u043a\u0441\u0442 \u0432\u043e\u043f\u0440\u043e\u0441\u0430",required:!0,className:"mb-3",children:(0,c.jsx)("textarea",{value:e.question,onChange:r=>t.updateQuestion(e.id,{question:r.target.value}),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0432\u043e\u043f\u0440\u043e\u0441\u0430",className:"px-3 py-2 border border-border rounded-md bg-bg-primary text-text-primary font-inherit text-sm resize-y min-h-[60px] transition-all focus:outline-none focus:border-accent-blue focus:ring-2 focus:ring-accent-blue/15",rows:2})}),(0,c.jsx)(i.A,{label:"\u0411\u0430\u043b\u043b\u044b",required:!0,className:"mb-3",children:(0,c.jsx)("input",{type:"number",value:e.points||1,onChange:r=>t.updateQuestion(e.id,{points:parseInt(r.target.value)||1}),min:"1",className:"px-3 py-2 border border-border rounded-md bg-bg-primary text-text-primary font-inherit text-sm transition-all focus:outline-none focus:border-accent-blue focus:ring-2 focus:ring-accent-blue/15 w-[100px]"})}),"multiple_choice"===e.type&&(0,c.jsxs)(i.A,{label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u043e\u0442\u0432\u0435\u0442\u0430",required:!0,children:[null===(n=e.options)||void 0===n?void 0:n.map((r,n)=>{var a,s;return(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[(0,c.jsx)("input",{type:"radio",name:"correct_".concat(e.id),checked:e.correctAnswer===r,onChange:()=>t.updateQuestion(e.id,{correctAnswer:r}),className:"w-[18px] h-[18px] flex-shrink-0"}),(0,c.jsx)("input",{type:"text",value:r,onChange:r=>t.updateOption(e.id,n,r.target.value),placeholder:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 ".concat(n+1),className:"flex-1 px-2.5 py-1.5 text-sm border border-border rounded-md bg-bg-primary text-text-primary font-inherit transition-all focus:outline-none focus:border-accent-blue focus:ring-2 focus:ring-accent-blue/15 ml-2"}),!(null===(a=e.options)||void 0===a||!a.length)&&(null===(s=e.options)||void 0===s?void 0:s.length)>2&&(0,c.jsx)(o.A,{variant:"danger",size:"md",onClick:()=>t.removeOption(e.id,n),type:"button",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0430\u0440\u0438\u0430\u043d\u0442",className:"min-w-[32px] w-8 h-8 flex items-center justify-center leading-none flex-shrink-0 hover:-translate-y-px",children:"\u2715"})]},n)}),(0,c.jsx)(o.A,{variant:"secondary",size:"md",onClick:()=>t.addOption(e.id),className:"mt-2",children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u0440\u0438\u0430\u043d\u0442"})]})]},e.id)})})]})]})}),(0,c.jsx)(s.NS,{cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",onCancel:()=>t.cancel(),okText:t.isEdit?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",onOk:async()=>{const e=t.validate();if(e)return void alert(e);const r=t.getExamData();t.dialog.close(r)}})]})})}}]);