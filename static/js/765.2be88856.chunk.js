"use strict";(self.webpackChunklabs_helper=self.webpackChunklabs_helper||[]).push([[765],{235:(e,r,t)=>{t.d(r,{aF:()=>s,NS:()=>i,cw:()=>d,rQ:()=>l});t(950);var a=t(414);const s=e=>{let{children:r,onOverlayClick:t,size:s="medium"}=e;return(0,a.jsx)("div",{className:"fixed inset-0 w-full h-full bg-black/50 flex items-center justify-center z-[9999] overflow-auto p-0 md:p-5",onClick:e=>{e.target===e.currentTarget&&t&&t(e)},children:(0,a.jsx)("div",{className:"bg-bg-primary border border-border shadow-[0_4px_20px_rgba(0,0,0,0.3)] relative z-[10000] mx-auto flex flex-col overflow-hidden w-full h-full max-w-full max-h-full rounded-none md:rounded-xl md:w-[90%] md:h-auto ".concat("large"===s?"md:max-w-[1000px] md:max-h-[800px]":"md:max-w-[600px] md:max-h-[600px]"),onClick:e=>e.stopPropagation(),children:r})})},l=e=>{let{children:r}=e;return(0,a.jsx)("div",{className:"p-4 border-b border-border flex-shrink-0",children:"string"===typeof r?(0,a.jsx)("h3",{className:"m-0 text-xl font-semibold text-text-primary",children:r}):r})},d=e=>{let{children:r}=e;return(0,a.jsx)("div",{className:"p-6 overflow-y-auto flex-1 min-h-0 bg-bg-secondary",children:r})};var n=t(652);const i=function(e){let{cancelText:r="\u041e\u0442\u043c\u0435\u043d\u0430",onCancel:t,okText:s="\u041e\u041a",onOk:l,okType:d="primary",showCancel:i=!0,showOk:o=!1,okDisabled:c=!1,disabled:x=!1}=e;return(0,a.jsxs)("div",{className:"px-4 py-2 border-t border-border flex gap-3 justify-end flex-shrink-0",children:[i&&t&&(0,a.jsx)(n.A,{variant:"secondary",size:"md",onClick:t,disabled:x,children:r}),(o||l)&&s&&(0,a.jsx)(n.A,{variant:"danger"===d?"danger":"primary",size:"md",onClick:l,disabled:x||c,children:s})]})}},765:(e,r,t)=>{t.r(r),t.d(r,{default:()=>m});t(950);var a=t(673),s=t(818),l=t(235),d=t(501),n=t(652),i=t(791),o=t(192),c=t(745),x=t(414);const m=(0,a.PA)(e=>{var r;let{dialog:t,model:a}=e;(0,s.v)(a);const m=e=>{if(!e||!Array.isArray(e)||0===e.length)return"\u041d\u0435\u0442 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0439";const r=e.reduce((e,r)=>e+(r.durationMs||0),0),t=Math.floor(r/6e4),a=Math.floor(r%6e4/1e3);return"".concat(e.length," \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0439, \u0432\u0441\u0435\u0433\u043e ").concat(t,"\u043c ").concat(a,"\u0441 \u0432\u043d\u0435 \u0444\u043e\u043a\u0443\u0441\u0430")};return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(l.aF,{onOverlayClick:e=>{e.target===e.currentTarget&&a.cancel()},size:"large",children:[(0,x.jsx)(l.rQ,{children:(0,x.jsxs)("h3",{className:"m-0 text-xl font-semibold text-text-primary",children:['\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b "',null===(r=a.exam)||void 0===r?void 0:r.title,'"']})}),(0,x.jsxs)(l.cw,{children:[(0,x.jsx)("div",{className:"min-h-[300px]",children:0===a.results.length?(0,x.jsx)("div",{className:"p-12 text-center text-text-secondary",children:"\u041d\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"}):(0,x.jsx)("div",{className:"overflow-x-auto",children:(0,x.jsxs)("table",{className:"w-full border-collapse",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"bg-bg-tertiary",children:[(0,x.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-text-primary border-b border-border",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),(0,x.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-text-primary border-b border-border",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,x.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-text-primary border-b border-border",children:"\u0411\u0430\u043b\u043b\u044b"}),(0,x.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-text-primary border-b border-border",children:"\u041d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u044f"}),(0,x.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-text-primary border-b border-border",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,x.jsx)("tbody",{children:a.results.map(e=>{var r;return(0,x.jsxs)("tr",{className:"hover:bg-bg-tertiary transition-colors border-b border-border",children:[(0,x.jsx)("td",{className:"px-4 py-3 text-text-primary",children:(null===(r=e.user)||void 0===r?void 0:r.fullName)||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}),(0,x.jsx)("td",{className:"px-4 py-3",children:(0,x.jsx)(d.A,{variant:e.status,size:"sm",children:(0,o.F)(e.status)})}),(0,x.jsx)("td",{className:"px-4 py-3 text-text-primary",children:null!==e.score&&void 0!==e.score?"".concat(e.score," / ").concat(a.getMaxScore()):"\u2014"}),(0,x.jsx)("td",{className:"px-4 py-3 text-sm text-text-secondary",children:m(e.violations)}),(0,x.jsx)("td",{className:"px-4 py-3",children:(0,x.jsxs)("div",{className:"flex gap-2",children:[(0,x.jsx)(n.A,{variant:"info",size:"md",onClick:async()=>{await a.dialogs.examReview.show({exam:a.exam,attempt:e}),await a.refreshResults()},children:"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c"}),("submitted"===e.status||"pending_review"===e.status)&&(0,x.jsx)(n.A,{variant:"secondary",size:"md",onClick:()=>a.resetAttempt(e.id),title:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0443 \u043f\u0435\u0440\u0435\u0441\u0434\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0443\u044e",children:"\u041f\u0435\u0440\u0435\u0441\u0434\u0430\u0447\u0430"})]})})]},e.id)})})]})})}),(0,x.jsxs)("div",{className:"mt-8 pt-8 border-t-2 border-border",children:[(0,x.jsx)("h4",{className:"text-lg font-semibold text-text-primary mb-4",children:"\u0412\u044b\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043e\u0446\u0435\u043d\u043a\u0438 \u0432 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0443\u044e"}),(0,x.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,x.jsx)(i.A,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0443\u044e",size:"md",children:(0,x.jsxs)("select",{value:a.selectedExamName,onChange:e=>a.setSelectedExamName(e.target.value),className:"w-full px-4 py-2 bg-bg-primary border border-border rounded-lg text-text-primary text-base font-inherit cursor-pointer transition-all focus:outline-none focus:border-accent-blue focus:ring-2 focus:ring-accent-blue/15",children:[(0,x.jsx)("option",{value:"",disabled:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0443\u044e"}),a.examNames.map(e=>(0,x.jsx)("option",{value:e,children:e},e)),(0,x.jsx)("option",{value:"__new__",children:"+ \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0443\u044e"})]})}),"__new__"===a.selectedExamName&&(0,x.jsx)(i.A,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439",size:"md",children:(0,x.jsx)("input",{type:"text",value:a.customExamName,onChange:e=>a.setCustomExamName(e.target.value),placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0430\u044f \u21162",className:"w-full px-4 py-2 bg-bg-primary border border-border rounded-lg text-text-primary text-base font-inherit transition-all focus:outline-none focus:border-accent-blue focus:ring-2 focus:ring-accent-blue/15"})}),(0,x.jsx)(n.A,{variant:"primary",size:"md",onClick:()=>a.transferGrades(),disabled:!a.selectedExamName||a.transferring||"__new__"===a.selectedExamName&&!a.customExamName.trim(),className:"w-full md:w-auto",children:a.transferring?"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c...":"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u043e\u0446\u0435\u043d\u043a\u0438"})]})]})]}),(0,x.jsx)(l.NS,{cancelText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onCancel:()=>a.cancel(),showCancel:!0}),(0,x.jsx)(c.qX,{dialogs:a.dialogs})]})})})}}]);